---
import Base from "../layouts/Base.astro";
import { getCollection } from "astro:content";
import LinkedInIcon from "../components/LinkedInIcon.astro";

const posts = (await getCollection("blog")).sort((a,b) => +b.data.pubDate - +a.data.pubDate).slice(0,3);
---

<Base title="Héctor Medina — DevOps · SRE" description="Blog técnico sobre Cloud, DevOps y alto rendimiento.">
  <section class="text-center py-20 space-y-6">
    <h1 class="text-5xl font-bold">Hi, I'm <span class="text-brand">Héctor</span></h1>
    <p class="text-muted text-lg max-w-2xl mx-auto">
      Platform engineer at Volkswagen Digital:Hub. Meet me on LinkedIn.
    </p>
    <div class="flex justify-center gap-3 mt-8">
      <a class="btn" href="/blog/">Ver blog</a>
      <a
        class="btn-ghost inline-flex items-center justify-center gap-2 px-4 py-2 group"
        href="https://www.linkedin.com/in/hector-medina-cabanelas/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <LinkedInIcon
          size={20}
          className="text-[#0A66C2] dark:text-slate-200 group-hover:scale-110"
        />
        <span class="align-middle">LinkedIn</span>
      </a>
    </div>
  </section>

  <section class="container py-10">
    <h2 class="text-2xl font-semibold mb-6">Last posts</h2>
    <div class="grid gap-6 md:grid-cols-3">
      {posts.map(({ slug, data }) => (
        <a href={`/blog/${slug}/`} class="block p-5 rounded-xl bg-card border border-slate-800 hover:border-brand transition">
          <div class="text-sm text-muted">{data.pubDate.toLocaleDateString()}</div>
          <h3 class="text-xl font-semibold mt-1 mb-2">{data.title}</h3>
          <p class="text-muted text-sm">{data.description}</p>
        </a>
      ))}
    </div>
  </section>
</Base>
