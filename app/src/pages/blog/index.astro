---
import Base from "../../layouts/Base.astro";
import { getCollection } from "astro:content";
const posts = (await getCollection("blog")).sort((a,b) => +b.data.pubDate - +a.data.pubDate);
---

<Base title="Blog — Héctor Medina" description="Artículos técnicos sobre Cloud, DevOps, CI/CD y HPC.">
  <section class="container py-10">
    <h1 class="text-4xl font-bold mb-3">Blog</h1>
    <p class="text-muted mb-10 max-w-2xl">
      Guías, notas y reflexiones sobre DevOps, AWS, infraestructura y rendimiento.
    </p>

    <div class="grid gap-6 md:grid-cols-3">
      {posts.map(({ slug, data }) => (
        <a href={`/blog/${slug}/`} class="block p-5 rounded-xl bg-card border border-slate-800 hover:border-brand transition">
          <div class="text-sm text-muted">{data.pubDate.toLocaleDateString()}</div>
          <h3 class="text-xl font-semibold mt-1 mb-2">{data.title}</h3>
          <p class="text-muted text-sm">{data.description}</p>
          {data.tags && (
            <div class="mt-3 flex flex-wrap gap-2">
              {data.tags.map((tag) => (
                <span class="ttext-slate-700 dark:text-slate-100
         bg-slate-100 dark:bg-slate-800
         border border-slate-300 dark:border-slate-700
         text-xs px-2 py-1 rounded-full
         transition-colors">#{tag}</span>
              ))}
            </div>
          )}
        </a>
      ))}
    </div>
  </section>
</Base>
