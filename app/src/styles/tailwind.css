/* --- Tailwind core (siempre primero) --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Tema por variables ===== */
/* üéØ DARK por defecto */
:root {
  --bg: 11 18 32;           /* ~slate-950 */
  --text: 226 232 240;      /* slate-200 */
  --muted: 148 163 184;     /* slate-400 */
  --card: 15 23 42;         /* slate-900 */
  --border: 30 41 59;       /* slate-800 */
  --chip: 30 41 59;         /* slate-800 */
  --brand: 56 189 248;      /* sky-400 */
  --brand2: 167 139 250;    /* violet-400 */
}
html.dark { color-scheme: dark; }

/* ‚òÄÔ∏è LIGHT cuando NO hay .dark en <html> */
html:not(.dark) {
  --bg: 255 255 255;         /* blanco */
  --text: 15 23 42;          /* slate-900 (m√°s oscuro) */
  --muted: 51 65 85;         /* slate-700 (mejor contraste) */
  --card: 248 250 252;       /* slate-50 */
  --border: 226 232 240;     /* slate-200 */
  --chip: 241 245 249;       /* slate-100 */
  --brand: 56 189 248;       /* sky-400 */
  --brand2: 167 139 250;     /* violet-400 */
  color-scheme: light;
}

/* Base aplicado a toda la app */
body {
  background-color: rgb(var(--bg));
  color: rgb(var(--text));
}

/* Componentes tokenizados por variables */
.card {
  background-color: rgb(var(--card));
  border: 1px solid rgb(var(--border));
  border-radius: 0.75rem; /* rounded-xl */
  padding: 1.25rem;       /* p-5 */
}
.badge {
  display: inline-flex; align-items: center; gap: .5rem;
  font-size: .875rem; padding: .25rem .625rem; border-radius: 9999px;
  border: 1px solid rgb(var(--border));
  color: rgb(var(--muted));
  background-color: rgb(var(--chip));
}

.btn {
  display: inline-block; font-weight: 600; border-radius: .75rem;
  padding: .5rem 1rem;
  background-image: linear-gradient(135deg, rgb(var(--brand)), rgb(var(--brand2)));
  color: rgb(15 23 42); /* slate-900 */
}
.btn-ghost {
  display: inline-block; font-weight: 600; border-radius: .75rem;
  padding: .5rem 1rem;
  color: rgb(var(--text));
  border: 1px solid rgb(var(--border));
}

/* ===== Ajustes de legibilidad para Tailwind Typography ===== */
@layer base {
  /* Light mode (por defecto) */
  .prose {
    --tw-prose-body: rgb(15 23 42);         /* slate-900 */
    --tw-prose-headings: rgb(15 23 42);
    --tw-prose-lead: rgb(51 65 85);         /* slate-700 */
    --tw-prose-links: rgb(2 132 199);       /* sky-600 aprox */
    --tw-prose-bold: rgb(15 23 42);

    /* C√≥digo/blocks en light */
    --tw-prose-code: rgb(30 41 59);         /* slate-800 */
    --tw-prose-pre-code: rgb(51 65 85);
    --tw-prose-pre-bg: rgb(248 250 252);    /* slate-50 */
    --tw-prose-quote-borders: rgb(226 232 240);
  }

  /* Dark mode */
  .dark .prose {
    --tw-prose-invert-body: rgb(226 232 240);        /* slate-200 */
    --tw-prose-invert-headings: rgb(241 245 249);    /* slate-100 */
    --tw-prose-invert-links: rgb(125 211 252);       /* sky-300 */
    --tw-prose-invert-bold: rgb(241 245 249);

    --tw-prose-invert-code: rgb(203 213 225);        /* slate-300 */
    --tw-prose-invert-pre-code: rgb(203 213 225);
    --tw-prose-invert-pre-bg: rgb(15 23 42);         /* slate-900 suave */
    --tw-prose-invert-quote-borders: rgb(51 65 85);  /* slate-700 */
  }
}

/* Inline code ‚Äúpill‚Äù */
.prose :where(code):not(:where(pre code)) {
  background-color: rgb(var(--chip));
  padding: .15rem .35rem;
  border-radius: .375rem; /* md */
  border: 1px solid rgb(var(--border));
}

/* Tablas con mejor contraste en light */
.prose table th,
.prose table td { border-color: rgb(226 232 240); }

@layer base {
  /* T√≠tulos dentro de .prose m√°s grandes y con mejor contraste */
  .prose h1 {
    @apply text-4xl sm:text-5xl font-bold text-[rgb(var(--text))] mb-4;
  }
  .prose h2 {
    @apply text-3xl sm:text-4xl font-semibold text-[rgb(var(--text))] mt-10 mb-3;
  }
  .prose h3 {
    @apply text-2xl sm:text-3xl font-semibold text-[rgb(var(--text))] mt-8 mb-2;
  }
  .prose h4 {
    @apply text-xl font-semibold text-[rgb(var(--text))];
  }

  /* Ajustes generales de texto en .prose */
  .prose p {
    @apply leading-relaxed text-[rgb(var(--muted))];
  }
  .prose strong {
    @apply text-[rgb(var(--text))];
  }
  .prose code {
    @apply text-sm font-mono;
  }
}
