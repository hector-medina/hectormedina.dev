---
const label = "Cambiar tema claro/oscuro";
---

<button
  aria-label={label}
  class="inline-flex items-center gap-2 rounded-xl border border-slate-200 dark:border-slate-700 px-3 py-2 text-sm hover:opacity-90 transition"
  onclick="(function(){
    const el = document.documentElement;
    const isDark = el.classList.toggle('dark');
    try { localStorage.setItem('theme', isDark ? 'dark' : 'light'); } catch(e){}
    // Opcional: actualizar icono/label
    const b = event.currentTarget;
    const sun = b.querySelector('[data-sun]');
    const moon = b.querySelector('[data-moon]');
    if (isDark) { sun.style.display='none'; moon.style.display='inline'; }
    else { sun.style.display='inline'; moon.style.display='none'; }
  })()"
>
  <!-- Icono Sol -->
  <svg data-sun xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <circle cx="12" cy="12" r="4" stroke-width="2"/>
    <path stroke-width="2" d="M12 2v2m0 16v2M4 12H2m20 0h-2M5 5l1.5 1.5M17.5 17.5L19 19M19 5l-1.5 1.5M6.5 17.5L5 19"/>
  </svg>
  <!-- Icono Luna -->
  <svg data-moon xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:inline" viewBox="0 0 24 24" fill="currentColor">
    <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/>
  </svg>
</button>

<!-- Hidratar el componente en cliente -->
<script client:load>
  // sin JS adicional: el onclick inline maneja todo
</script>